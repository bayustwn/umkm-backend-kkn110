generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model news {
  id         String   @id @db.Char(36)
  title      String   @db.VarChar(255)
  content    String   @db.Text
  image      String?  @db.VarChar(255)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
}

model category {
  id   String @id
  name String
  umkm umkm[]
}

model user {
  id        String   @id
  username  String   @unique
  password  String
  name      String?
  telp      String?
  email     String?
  instagram String?
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
}

model product {
  id          String  @id
  name        String
  description String?
  image       String?
  price       Decimal @db.Decimal(12, 2)
  umkmId      String
  umkm        umkm    @relation(fields: [umkmId], references: [id], map: "Product_umkmId_fkey")

  @@index([umkmId], map: "Product_umkmId_fkey")
}

model umkm {
  id          String    @id
  name        String
  address     String
  phone       String
  description String
  status      String?
  image       String?
  latitude    Float?
  longitude   Float?
  categoryId  String
  product     product[]
  category    category  @relation(fields: [categoryId], references: [id], map: "Umkm_categoryId_fkey")

  @@index([categoryId], map: "Umkm_categoryId_fkey")
}
